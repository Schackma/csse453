'''
Created on Mar 15, 2016

@author: schackma
'''
import City


def makeMap(fileName):
    cityMap = []
    cityNames = []
    
    mapFile = open(fileName)
    line = mapFile.readline()
    
    while line != "":
        [city1, city2, dist] = line.split("")
        
        #add the cities to the map if they were not visited before
        if city1 not in cityNames:
            cityNames.append(city1)
            cityMap.append(City.City(city1))
        
        if city2 not in cityNames:
            cityNames.append(city2)
            cityMap.append(City.City(city2))
        
        
        #find the cities in the map and add in the neighbors
        for tempCity in cityMap:
            if tempCity.name == city1:
                tempCity.addNeighbor(city2, dist)
        
            if tempCity.name == city2:
                tempCity.addNeighbor(city1, dist)
        
        line = mapFile.readline()
        
    mapFile.close()
    return cityMap
